# .readthedocs.yaml

version: 2

build:
  os: "ubuntu-22.04"  # Set the OS to a supported Ubuntu version
  tools:
    python: "3.9"  # Python version to use
  environment:
    PATH: "/home/docs/checkouts/readthedocs.org/user_builds/$READTHEDOCS_PROJECT_NAME/envs/$READTHEDOCS_VERSION/bin:chrome/opt/google/chrome:$PATH"
  commands:
    # Download Google Chrome RPM package
    - wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm -O google-chrome.rpm

    # Install 'rpm2cpio' and 'cpio' if they are not already available
    # Since we cannot use 'apt-get' or 'sudo', we'll use a workaround to extract the RPM

    # Convert RPM to CPIO archive and extract it
    - rpm2cpio google-chrome.rpm | cpio -idmv

    # Move extracted files to a 'chrome' directory
    - mkdir -p chrome && mv opt chrome/

    # Make the Chrome binary executable
    - chmod +x chrome/opt/google/chrome/google-chrome

    # Verify Chrome installation
    - chrome/opt/google/chrome/google-chrome --version

sphinx:
  configuration: source/conf.py  # Path to your Sphinx config file

python:
  install:
    - method: pip
      path: .
    - requirements: source/requirements.txt  # Path to your requirements file